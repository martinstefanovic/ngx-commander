<main
  class="angular-sidebar"
  [ngClass]="{ closed: isSidebarClosed }"
  [ngStyle]="{ height: config?.style?.height ?? '90vh' }"
>
  <div class="angular-sidebar-body">
    <section class="screen screen-1" [ngClass]="{ 'hide-screen': isDropdownOpened }">
      @for (menuItem of config?.routes; track menuItem; let i = $index) {
        @if (menuItem?.path) {
          <app-sidebar-item [showIcon]="false" [isSidebarClosed]="isSidebarClosed" [item]="menuItem" />
        }

        <app-sidebar-title [item]="menuItem" [isSidebarClosed]="isSidebarClosed" />

        @if (menuItem.children) {
          <p class="open-screen-btn" (click)="onOpenDropdown(menuItem)">
            <span class="item-title"> {{ menuItem.title }} </span>
            <ng-icon size="15" class="icon" name="heroChevronRight"></ng-icon>
          </p>
        }
      }
    </section>
    <section class="screen screen-2" [ngClass]="{ 'show-screen': isDropdownOpened }">
      <div class="dropdown-header" (click)="isDropdownOpened = false">
        <ng-icon size="20" class="icon" name="heroArrowLeft"></ng-icon>
        <span>{{ selectedDropdown?.title }}</span>
      </div>

      @for (menuItem of selectedDropdown?.children; track menuItem) {
        <app-sidebar-title [item]="menuItem" [isSidebarClosed]="isSidebarClosed" />
        @if (menuItem?.path) {
          <app-sidebar-item [showIcon]="false" [isSidebarClosed]="isSidebarClosed" [item]="menuItem" />
        }

        <app-sidebar-dropdown [item]="menuItem" [isSidebarClosed]="isSidebarClosed" />
      }
    </section>
  </div>
</main>
